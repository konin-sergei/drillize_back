
---------- DROP DATABASE --------
sudo -u postgres psql
SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE datname = 'retolu';
DROP DATABASE retolu;
OR
DROP DATABASE retolu WITH (FORCE);
DROP USER retolu;

REASSIGN OWNED BY retolu TO postgres;
DROP OWNED BY retolu;
DROP USER retolu;

--------- CREATE --------------
CREATE USER retolu WITH PASSWORD 'Retolu8Pp1';
CREATE DATABASE retolu OWNER retolu;
GRANT ALL PRIVILEGES ON DATABASE retolu TO retolu;

--------- GRANT ---------------
GRANT USAGE, CREATE ON SCHEMA public TO retolu;
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO retolu;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA public TO retolu;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL ON TABLES TO retolu;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL ON SEQUENCES TO retolu;
ALTER SCHEMA public OWNER TO retolu;
GRANT ALL PRIVILEGES ON ALL FUNCTIONS IN SCHEMA public TO retolu;
GRANT CREATE ON SCHEMA public TO retolu;


alembic init migrations

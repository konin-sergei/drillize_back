[query_title]
Расскажите, каковы правила для локальных и глобальных переменных в Python?

[query_title]
Расскажите, каковы правила для локальных и глобальных переменных в Python?

[answer_title]
Ответ №1

[answer_content]
+ Локальные переменные в функции видны только внутри этой функции. Они не могут быть использованы вне функции или в другой функции.
```py
def my_function():
    my_var = 42
    print(my_var)
my_function() # Выведет 42
print(my_var) # Ошибка, my_var не определена.
```
+ Глобальные переменные определяются за пределами функции и могут быть использованы в любой части программы, включая функции.
```py
my_global_var = 42
def my_function():
    print(my_global_var)
my_function() # Выведет 42
print(my_global_var) # Выведет 42
```

+ Объявление переменной в функции как global делает эту переменную видимой для всех функций и главной программы.
```py
def my_function():
    global my_var
    my_var = 42
my_function() # my_var будет доступна вне функции
print(my_var) # Выведет 42
```py
+ Если переменная не была определена внутри функции, Python будет искать ее во внешней области видимости и, если найдет, будет использовать эту переменную внутри функции. Если переменная не будет найдена, это приведет к ошибке.
```
my_var = 42
def my_function():
    print(my_var)
my_function() # Выведет 42
```
176. Как вы можете использовать глобальные переменные в модулях?
В модулях Python глобальные переменные могут быть объявлены с помощью ключевого слова global. Это позволяет функциям в модуле изменять значение глобальных переменных, определенных в этом же модуле.

Например, если у вас есть модуль mod.py, содержащий глобальную переменную counter и функцию increment_counter, которая увеличивает значение счетчика на 1, то вы можете использовать global для того, чтобы эта функция могла изменить значение глобальной переменной:
```py
# mod.py
counter = 0

def increment_counter():
    global counter
    counter += 1
```
Теперь, если импортировать модуль в другой файл и вызвать функцию increment_counter, это приведет к увеличению значения счетчика на 1:
```py
# main.py
import mod

print(mod.counter)  # 0
mod.increment_counter()
print(mod.counter)  # 1
```
Также можно использовать имена модулей в качестве пространств имен для глобальных переменных, которые могут быть использованы в других файлах.
```py
# mod.py
app_count = 0

def increment_counter():
    global app_count
    app_count += 1

# main.py
import mod

print(mod.app_count)  # 0
mod.increment_counter()
print(mod.app_count)  # 1
```
Внимание, что использование глобальных переменных может быть опасно, если они используются неправильно, поэтому лучше использовать их в ограниченном объеме и с осторожностью.
